<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Moderasi Job Posting - Portal Alumni</title>
        <script src="https://cdn.tailwindcss.com"></script>
        <link href="https://cdn.jsdelivr.net/npm/daisyui@4.10.2/dist/full.min.css" rel="stylesheet" type="text/css" />
        <!-- Font Awesome untuk icon -->
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
        <style>
            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            }
        </style>
    </head>
    <body class="bg-gradient-to-br from-green-50 to-green-100 min-h-screen">
        <!-- Navbar -->
        <%- include('admin-partials/navbar') %>

        <div class="container mx-auto px-6 py-8">
            <!-- Header Section -->
            <div class="text-center mb-10">
                <div class="flex items-center justify-center mb-4">
                    <div class="w-16 h-16 rounded-full bg-green-600 flex items-center justify-center mr-4">
                        <i class="fas fa-briefcase text-white text-2xl"></i>
                    </div>
                    <div>
                        <h1 class="text-4xl font-bold text-green-700">Moderasi Job Posting</h1>
                        <p class="text-lg text-green-600 mt-2">Kelola dan review lowongan kerja yang diajukan</p>
                    </div>
                </div>
            </div>

            <!-- Statistics Cards -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                <div class="stat rounded-xl shadow-lg p-6 bg-white border-l-4 border-yellow-500">
                    <div class="stat-figure">
                        <i class="fas fa-clock text-2xl text-yellow-500"></i>
                    </div>
                    <div class="stat-title text-gray-700">Menunggu Review</div>
                    <div class="stat-value text-yellow-600">12</div>
                </div>

                <div class="stat rounded-xl shadow-lg p-6 bg-white border-l-4 border-green-500">
                    <div class="stat-figure">
                        <i class="fas fa-check-circle text-2xl text-green-500"></i>
                    </div>
                    <div class="stat-title text-gray-700">Disetujui Hari Ini</div>
                    <div class="stat-value text-green-600">8</div>
                </div>

                <div class="stat rounded-xl shadow-lg p-6 bg-white border-l-4 border-red-500">
                    <div class="stat-figure">
                        <i class="fas fa-times-circle text-2xl text-red-500"></i>
                    </div>
                    <div class="stat-title text-gray-700">Ditolak Hari Ini</div>
                    <div class="stat-value text-red-600">3</div>
                </div>
            </div>

            <!-- Filter and Search -->
            <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
                <div class="flex flex-wrap gap-4 items-center">
                    <div class="flex-1 min-w-64">
                        <div class="relative">
                            <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                            <input type="text" placeholder="Cari lowongan..." class="input input-bordered w-full pl-10" />
                        </div>
                    </div>
                    <select class="select select-bordered">
                        <option disabled selected>Filter Status</option>
                        <option>Semua</option>
                        <option>Pending</option>
                        <option>Disetujui</option>
                        <option>Ditolak</option>
                    </select>
                    <select class="select select-bordered">
                        <option disabled selected>Kategori</option>
                        <option>IT & Software</option>
                        <option>Marketing</option>
                        <option>Finance</option>
                        <option>Engineering</option>
                    </select>
                </div>
            </div>

            <!-- Job Cards Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                <!-- Job Card 1 -->
                <div class="card bg-white shadow-xl hover:shadow-2xl transition-all duration-300 border">
                    <div class="card-body">
                        <div class="flex items-start justify-between mb-4">
                            <div class="badge badge-warning badge-sm">Pending</div>
                            <div class="dropdown dropdown-end">
                                <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
                                    <i class="fas fa-ellipsis-v"></i>
                                </div>
                                <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                                    <li>
                                        <a><i class="fas fa-eye mr-2"></i>Lihat Detail</a>
                                    </li>
                                    <li>
                                        <a><i class="fas fa-edit mr-2"></i>Edit</a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="card-title text-lg mb-2">
                            <i class="fas fa-briefcase text-green-600 mr-2"></i>
                            Senior Software Developer
                        </h3>

                        <div class="space-y-2 mb-4">
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-building mr-2 w-4"></i>
                                <span>PT. Technology Indonesia</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-map-marker-alt mr-2 w-4"></i>
                                <span>Jakarta, Indonesia</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-calendar-alt mr-2 w-4"></i>
                                <span>Diajukan: 15 Juni 2025</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-money-bill-wave mr-2 w-4"></i>
                                <span>Rp 15.000.000 - 20.000.000</span>
                            </div>
                        </div>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="badge badge-outline badge-sm">Full Time</div>
                            <div class="badge badge-outline badge-sm">Remote</div>
                            <div class="badge badge-outline badge-sm">IT</div>
                        </div>

                        <div class="card-actions justify-between">
                            <button class="btn btn-error btn-sm text-white" onclick="rejectJob(1)"><i class="fas fa-times mr-1"></i>Tolak</button>
                            <button class="btn btn-success btn-sm text-white" onclick="approveJob(1)"><i class="fas fa-check mr-1"></i>Setujui</button>
                        </div>
                    </div>
                </div>

                <!-- Job Card 2 -->
                <div class="card bg-white shadow-xl hover:shadow-2xl transition-all duration-300 border">
                    <div class="card-body">
                        <div class="flex items-start justify-between mb-4">
                            <div class="badge badge-warning badge-sm">Pending</div>
                            <div class="dropdown dropdown-end">
                                <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
                                    <i class="fas fa-ellipsis-v"></i>
                                </div>
                                <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                                    <li>
                                        <a><i class="fas fa-eye mr-2"></i>Lihat Detail</a>
                                    </li>
                                    <li>
                                        <a><i class="fas fa-edit mr-2"></i>Edit</a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="card-title text-lg mb-2">
                            <i class="fas fa-chart-line text-green-600 mr-2"></i>
                            Digital Marketing Manager
                        </h3>

                        <div class="space-y-2 mb-4">
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-building mr-2 w-4"></i>
                                <span>CV. Creative Solutions</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-map-marker-alt mr-2 w-4"></i>
                                <span>Bandung, Indonesia</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-calendar-alt mr-2 w-4"></i>
                                <span>Diajukan: 14 Juni 2025</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-money-bill-wave mr-2 w-4"></i>
                                <span>Rp 8.000.000 - 12.000.000</span>
                            </div>
                        </div>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="badge badge-outline badge-sm">Full Time</div>
                            <div class="badge badge-outline badge-sm">On-site</div>
                            <div class="badge badge-outline badge-sm">Marketing</div>
                        </div>

                        <div class="card-actions justify-between">
                            <button class="btn btn-error btn-sm text-white" onclick="rejectJob(2)"><i class="fas fa-times mr-1"></i>Tolak</button>
                            <button class="btn btn-success btn-sm text-white" onclick="approveJob(2)"><i class="fas fa-check mr-1"></i>Setujui</button>
                        </div>
                    </div>
                </div>

                <!-- Job Card 3 -->
                <div class="card bg-white shadow-xl hover:shadow-2xl transition-all duration-300 border">
                    <div class="card-body">
                        <div class="flex items-start justify-between mb-4">
                            <div class="badge badge-warning badge-sm">Pending</div>
                            <div class="dropdown dropdown-end">
                                <div tabindex="0" role="button" class="btn btn-ghost btn-sm">
                                    <i class="fas fa-ellipsis-v"></i>
                                </div>
                                <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52">
                                    <li>
                                        <a><i class="fas fa-eye mr-2"></i>Lihat Detail</a>
                                    </li>
                                    <li>
                                        <a><i class="fas fa-edit mr-2"></i>Edit</a>
                                    </li>
                                </ul>
                            </div>
                        </div>

                        <h3 class="card-title text-lg mb-2">
                            <i class="fas fa-cog text-green-600 mr-2"></i>
                            Mechanical Engineer
                        </h3>

                        <div class="space-y-2 mb-4">
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-building mr-2 w-4"></i>
                                <span>PT. Manufacturing Corp</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-map-marker-alt mr-2 w-4"></i>
                                <span>Surabaya, Indonesia</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-calendar-alt mr-2 w-4"></i>
                                <span>Diajukan: 13 Juni 2025</span>
                            </div>
                            <div class="flex items-center text-sm text-gray-600">
                                <i class="fas fa-money-bill-wave mr-2 w-4"></i>
                                <span>Rp 10.000.000 - 15.000.000</span>
                            </div>
                        </div>

                        <div class="flex flex-wrap gap-2 mb-4">
                            <div class="badge badge-outline badge-sm">Full Time</div>
                            <div class="badge badge-outline badge-sm">On-site</div>
                            <div class="badge badge-outline badge-sm">Engineering</div>
                        </div>

                        <div class="card-actions justify-between">
                            <button class="btn btn-error btn-sm text-white" onclick="rejectJob(3)"><i class="fas fa-times mr-1"></i>Tolak</button>
                            <button class="btn btn-success btn-sm text-white" onclick="approveJob(3)"><i class="fas fa-check mr-1"></i>Setujui</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pagination -->
            <div class="flex justify-center">
                <div class="join">
                    <button class="join-item btn">«</button>
                    <button class="join-item btn btn-active">1</button>
                    <button class="join-item btn">2</button>
                    <button class="join-item btn">3</button>
                    <button class="join-item btn">»</button>
                </div>
            </div>
        </div>

        <!-- Modals -->
        <!-- Success Modal -->
        <dialog id="success_modal" class="modal">
            <div class="modal-box">
                <div class="flex items-center mb-4">
                    <i class="fas fa-check-circle text-green-500 text-3xl mr-3"></i>
                    <h3 class="font-bold text-lg">Berhasil!</h3>
                </div>
                <p class="py-4">Lowongan kerja telah berhasil disetujui dan akan dipublikasikan.</p>
                <div class="modal-action">
                    <form method="dialog">
                        <button class="btn btn-success">OK</button>
                    </form>
                </div>
            </div>
        </dialog>

        <!-- Reject Modal -->
        <dialog id="reject_modal" class="modal">
            <div class="modal-box">
                <div class="flex items-center mb-4">
                    <i class="fas fa-times-circle text-red-500 text-3xl mr-3"></i>
                    <h3 class="font-bold text-lg">Tolak Lowongan</h3>
                </div>
                <p class="py-2">Berikan alasan penolakan:</p>
                <textarea class="textarea textarea-bordered w-full mb-4" placeholder="Masukkan alasan penolakan..."></textarea>
                <div class="modal-action">
                    <form method="dialog">
                        <button class="btn">Batal</button>
                        <button class="btn btn-error ml-2" onclick="confirmReject()">Tolak</button>
                    </form>
                </div>
            </div>
        </dialog>

        <!-- Footer -->
        <%- include('admin-partials/footer') %>

        <!-- JavaScript -->
        <script>
            // Fungsi untuk menyetujui lowongan
            function approveJob(jobId) {
                console.log(`Menyetujui lowongan ID: ${jobId}`);
                document.getElementById('success_modal').showModal();

                // Simulasi update status di UI
                setTimeout(() => {
                    // Update badge status menjadi approved
                    // Dalam implementasi nyata, ini akan melakukan AJAX call ke server
                }, 1000);
            }

            // Fungsi untuk menolak lowongan
            function rejectJob(jobId) {
                console.log(`Menolak lowongan ID: ${jobId}`);
                document.getElementById('reject_modal').showModal();
            }

            // Fungsi konfirmasi penolakan
            function confirmReject() {
                // Dalam implementasi nyata, ambil nilai dari textarea dan kirim ke server
                console.log('Lowongan ditolak dengan alasan');
                // Update UI untuk menampilkan status ditolak
            }

            // Filter dan search functionality
            document.addEventListener('DOMContentLoaded', function () {
                // Event listeners untuk filter dan search
                const searchInput = document.querySelector('input[placeholder="Cari lowongan..."]');
                const statusFilter = document.querySelector('select:nth-of-type(1)');
                const categoryFilter = document.querySelector('select:nth-of-type(2)');

                searchInput?.addEventListener('input', function () {
                    console.log('Searching for:', this.value);
                    // Implementasi filter berdasarkan search term
                });

                statusFilter?.addEventListener('change', function () {
                    console.log('Filter by status:', this.value);
                    // Implementasi filter berdasarkan status
                });

                categoryFilter?.addEventListener('change', function () {
                    console.log('Filter by category:', this.value);
                    // Implementasi filter berdasarkan kategori
                });
            });
        </script>
    </body>
</html>
